---
import Funcion from "../components/Funcion.astro";
---

<!-- Trabajo de Piero -->
<section
  class="h-[400px] md:h-[600px] bg-gradient-to-br from-[#831011] via-[#300000] to-[#831011] w-full"
  id="inicio"
>
  <div
    class="flex justify-center items-center h-full md:items-start flex-col gap-5 text-white text-center md:text-left px-10 md:px-20 lg:px-48 container mx-auto"
  >
    <h1 class="font-h font-bold text-4xl md:text-8xl italic">Sonorus</h1>
    <p class="font-p font-light">
      Conecta con personas que sienten la música <span class="font-bold"
        >como tú</span
      >. Comparte, descubre y vibra en comunidad.
    </p>
    <button
      id="join-community-btn"
      class="py-3 px-6 bg-black text-white rounded-full gap-3 cursor-pointer flex items-center font-p transition duration-300 transform hover:scale-105"
    >Únete a la comunidad<img
        src="/iconForButton.svg"
        alt="icono"
        class="w-auto h-5 transition-transform duration-300"
        loading="lazy"
      />
    </button>
    <!-- Formulario de registro oculto -->
    <div id="community-form-modal" class="fixed inset-0 bg-black/70 flex items-center justify-center z-50 hidden">
      <form class="bg-gradient-to-br from-[#831011] via-[#300000] to-[#831011] p-8 rounded-2xl shadow-lg w-full max-w-md flex flex-col gap-5 text-white font-p relative">
        <button type="button" id="close-form-btn" class="absolute top-4 right-4 text-white bg-black/40 rounded-full w-8 h-8 flex items-center justify-center hover:bg-black/70 transition-all">✕</button>
        <h2 class="text-2xl md:text-3xl font-bold font-h mb-2 text-center">Regístrate en la comunidad</h2>
        <label class="flex flex-col gap-1">
          <span class="font-semibold">Nombre</span>
          <input type="text" name="nombre" required class="py-2 px-4 rounded-lg bg-black/30 text-white border border-[#831011] focus:outline-none focus:ring-2 focus:ring-[#831011] font-p" />
        </label>
        <label class="flex flex-col gap-1">
          <span class="font-semibold">Edad</span>
          <input type="number" name="edad" min="1" required class="py-2 px-4 rounded-lg bg-black/30 text-white border border-[#831011] focus:outline-none focus:ring-2 focus:ring-[#831011] font-p" />
        </label>
        <label class="flex flex-col gap-1">
          <span class="font-semibold">Gustos musicales</span>
          <input type="text" name="gustos" required placeholder="Rock, Pop, Jazz..." class="py-2 px-4 rounded-lg bg-black/30 text-white border border-[#831011] focus:outline-none focus:ring-2 focus:ring-[#831011] font-p" />
        </label>
        <label class="flex flex-col gap-1">
          <span class="font-semibold">País</span>
          <input type="text" name="pais" required class="py-2 px-4 rounded-lg bg-black/30 text-white border border-[#831011] focus:outline-none focus:ring-2 focus:ring-[#831011] font-p" />
        </label>
        <label class="flex flex-col gap-1">
          <span class="font-semibold">Recomendaciones</span>
          <textarea name="recomendaciones" rows="3" placeholder="¿Qué música recomiendas?" class="py-2 px-4 rounded-lg bg-black/30 text-white border border-[#831011] focus:outline-none focus:ring-2 focus:ring-[#831011] font-p"></textarea>
        </label>
        <button type="submit" class="py-3 px-6 bg-black text-white rounded-full font-p font-bold hover:scale-105 transition duration-300">Enviar</button>
      </form>
    </div>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const joinBtn = document.getElementById('join-community-btn');
    const modal = document.getElementById('community-form-modal');
    const closeBtn = document.getElementById('close-form-btn');
    if (joinBtn && modal && closeBtn) {
      joinBtn.addEventListener('click', () => {
        modal.classList.remove('hidden');
      });
      closeBtn.addEventListener('click', () => {
        modal.classList.add('hidden');
      });
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          modal.classList.add('hidden');
        }
      });
      const form = modal.querySelector('form');
      if (form) {
        form.addEventListener('submit', (e) => {
          e.preventDefault();
          alert('¡Registro enviado!');
          modal.classList.add('hidden');
          form.reset();
        });
      }
    }
  });
</script>
  </div>
</section>

<!-- Trabajo de Angel -->
<section class="bg-black" id="queessonorus">
  <div
    class="flex flex-col justify-center items-center container mx-auto px-[36px] py-[28px] md:px-20 lg:px-48 bg-black text-white"
  >
    <!-- ¿QUÉ ES SONORUS? -->
    <article
      class="py-10 flex flex-col xl:flex-row justify-center items-center gap-12"
    >
      <!-- Álbumes -->
      <img src="/albumes.webp" alt="albumes" loading="lazy" />
      <!-- Texto -->
      <section
        class="w-full xl:w-1/2 flex flex-col gap-8 text-center xl:text-left"
      >
        <h2 class="text-4xl sm:text-5xl font-bold font-h">
          ¿Qué es <span class="text-red-600">Sonorus</span>?
        </h2>

        <p
          class="text-base sm:text-lg font-light font-p text-justify leading-relaxed"
        >
          <strong class="font-semibold"
            >Más que música, conexiones reales.</strong
          >
          En un mundo donde cada uno escucha con audífonos, Sonorus propone quitar
          los auriculares y abrir el alma. Nuestra plataforma no solo te conecta
          con canciones, sino con personas que las sienten como tú. Explora nuevos
          géneros, comparte tus playlists favoritas, conoce personas que vibran con
          las mismas emociones sonoras y forma parte de una comunidad donde la música
          es el idioma común. Porque tus gustos no son algoritmos: son reflejos de
          quién eres.
        </p>
      </section>
    </article>

    <!-- FUNCIONALIDADES -->

    <article id="funcionalidades">
      <!-- Título de funcionalidades -->
      <section class="text-center md:px-30 pt-8 pb-5">
        <h2 class="font-h text-4xl md:text-5xl">Funcionalidades</h2>

        <p class="font-h text-2xl">
          Conecta, comparte y experimenta la música de manera diferente
        </p>
      </section>

      <!-- Detalle de funcion -->
      <section class="grid grid-cols-1 md:grid-cols-2 gap-3">
        <Funcion
          titulo="1. Perfiles musicales personalizados"
          descripcion="Crea tu perfil, selecciona tus géneros, artistas y canciones favoritas. Haz visible tu personalidad a través de tu música."
        />

        <Funcion
          titulo="2. Creación y descubrimiento de playlists"
          descripcion="Arma tus propias playlists, decúbrelas hechas por otros usuarios y compártelos con la comunidad."
        />

        <Funcion
          titulo="3. Recomendaciones humanas"
          descripcion="Recibe recomendaciones personalizadas de personas reales, basados en tus gustos y emociones, no solo en estadísticas."
        />

        <Funcion
          titulo="4. Grupos de afinidad musical"
          descripcion="Únete a grupos según tus géneros favoritos o a tus estados de ánimo. Participa en foros y charlas con quienes vibran igual."
        />

        <Funcion
          titulo="5. Eventos y actividades online"
          descripcion="Participa en escuchas grupales, reviews de álbunes, trivias musicales, retos de playlist y más."
        />

        <Funcion
          titulo="6. Mensajería y conexiones"
          descripcion="Conoce gente que comparte tu pasión, comparte mensajes privados o deja comentarios en perfiles y playlists."
        />
      </section>
    </article>
  </div>
</section>

<!-- Trabajo de Leonard -->
<div
  class="bg-black flex flex-col items-center justify-start px-4 md:px-24 lg:px-48 py-8 w-full"
>
  <div class="container mx-auto">
    <h1
      class="text-white text-center font-bold text-2xl md:text-[32px] w-full font-inria"
    >
      Disfruta de tus músicas favoritas
    </h1>
    <p
      class="text-white text-center mt-3 w-full text-sm md:text-base font-normal font-poppins"
    >
      Una selección de álbumes imprescindibles que han resistido la prueba del
      tiempo y siguen emocionando a nuevas generaciones de oyentes
    </p>
    <!-- Carrusel de álbumes -->
    <div class="w-full flex flex-col items-center mt-8">
      <div
        class="relative flex items-center justify-center w-full max-w-xs md:max-w-lg"
      >
        <button
          id="prevBtn"
          class="absolute left-0 top-1/2 -translate-y-1/2 bg-white/20 text-white rounded-full w-10 h-10 flex items-center justify-center text-xl md:text-2xl shadow-md hover:bg-white/40 transition-all duration-200 active:scale-90 z-10"
        >
          ←
        </button>
        <div id="carousel-container" class="overflow-hidden mx-auto w-full">
          <div
            id="carousel"
            class="flex gap-2 md:gap-4 transition-transform duration-500 will-change-transform"
          >
          </div>
        </div>
        <button
          id="nextBtn"
          class="absolute right-0 top-1/2 -translate-y-1/2 bg-white/20 text-white rounded-full w-10 h-10 flex items-center justify-center text-xl md:text-2xl shadow-md hover:bg-white/40 transition-all duration-200 active:scale-90 z-10"
        >
          →
        </button>
      </div>
    </div>
  </div>
</div>
